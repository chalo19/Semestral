{% extends "plantilla.html" %}
{% load static %}  

    {% block js %}
    <meta name="viewport" content="width=device-width,user scalable=0,initial-scale=1.0,maxium scale=1,miniumm scale=1">
    <title>Insumos</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    {% endblock js %}

    {% block contenido %}
    <div id="contenedor">               
        <div id="contenidoF">
            <div class="sectionF">
              <script>
                function ir() {
                  location.href='/formulario2/';
                }
                function eliminar(insumo) {
                  var msg;
                  var opcion = confirm("Desea eliminar el insumo " + insumo + " ?")
                  if (opcion == true) {
                    location.href = '/eliminar/' + insumo + '/';
                  } else {
                    msg="Cancelo la eliminacion del insumo " + insumo;
                    alert(msg);
                  }
                }

                function modificar(insumo) {
                    location.href = '/buscar/' + insumo + '/';                 
                }

              </script>
                <h1 align="center">Formulario de Insumos</h1>
                  <table class="table">
                    <thead class="thead-dark">
                      <tr>
                        <th scope="col">Nombre</th>
                        <th scope="col">Precio</th>
                        <th scope="col">Descripcion</th>
                        <th scope="col">Stock</th>
                        <th scope="col">Operaciones</th>
                      </tr>
                    </thead>
                    {% for item in lista_insumos %}           
                      <tr>
                        <td>{{item.nombre}}</td>
                        <td>{{item.precio}}</td>
                        <td>{{item.descripcion}}</td>
                        <td>{{item.stock}}</td>
                        <td>
                          <button class="btn btn-danger" onclick="eliminar('{{item.nombre}}')">Eliminar</button> 
                          <button class="btn btn-info" onclick="modificar('{{item.nombre}}')">Actualizar</button> 
                        </td>
                      </tr>
                    {% endfor %}
                  </table>                  
                  <button class="btn btn-success" onclick="ir()">Grabar Insumos</button>
            </div>           
        </div>      
    </div>   
    <div style="text-align: center; color: brown;">
      <h2>{{msg}}</h2>
    </div>
    {% endblock contenido %}
    {% block js2 %}
      <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    {% endblock js2%}